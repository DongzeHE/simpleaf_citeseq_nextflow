params {
    // The sample sheet
    sample_sheet_tsv = "${projectDir}/examples/sample_sheet.tsv"

    // The reference barcode csv files
    hto_reference_barcode_csv_gz = "${projectDir}/examples/sample_sheet.tsv"
    adt_reference_barcode_csv_gz = "${projectDir}/main.nf"

    // The output directory
    output_dir = "${projectDir}/workflow_output"

    // The number of threads to use
    num_threads = 8

    // "10xv2" or "10xv3"
    chemistry = "10xv3"

    // whether to use the piscem instead of salmon as the mapper 
    use_piscem = false

    // The parameters for building the index for mapping RNA-seq reads
    rna_simpleaf_index {
        // This section takes one of three forms:
        // 1. A reference set including a fasta file and a gtf file to build an extended transcriptome index
        extended_transcriptome {
            ref_type = "spliced+intronic" // "spliced+unspliced" or "spliced+intronic" 
            fasta = null
            gtf = null
            rlen = 91
            dedup = false
            spliced = null
            unspliced = null
        }
        // 2. A reference sequence fasta file to build an index directly
        ref_seq = null
        // 3. A pre-built index directory
        existing_index_dir = "work"

        // Optional parameters
        kmer_length = 31
        sparse = false
        use_piscem = false
        minimizer_length = 19
    }
}

process {
    cpus = params.num_threads
    memory = 30.GB
    // conda = "simpleaf_env.yaml"
    conda = "/Users/dongzehe/Desktop/COMBINE/CODE/nextflow/simpleaf_citeseq_nextflow/work/conda/simpleaf-a63f5bb5164f6591cab9d73f82a6b69e"
}
conda {
    enabled = true
    useMamba = false
}

